Derby Database


CMD 1 (don't close until work finishes)

start
startNetworkServer

CMD 2

ij

For 1st time  only-
connect 'jdbc:derby://localhost:1527/bankdb;create=true';

For 2nd time onwards  -
connect 'jdbc:derby://localhost:1527/bankdb;';


TABLES


CREATE TABLE CUSTOMERS(
  CUST_ID INTEGER PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 40000000, INCREMENT BY 1),
  CUSTOMER_NAME	 VARCHAR(15) NOT NULL,
  PAN	 VARCHAR(10),
  DOB	 VARCHAR(10),
  MOBILE VARCHAR(10),
  EMAIL  VARCHAR(20),
  ALT_MOBILE VARCHAR(10),
  ALT_EMAIL 	VARCHAR(20));
  

CREATE TABLE ACCOUNTS(
  CUST_ID INTEGER NOT NULL,
  ACCOUNT_ID INTEGER GENERATED ALWAYS AS IDENTITY (START WITH 201, INCREMENT BY 1),
  OPENING_DATE DATE NOT NULL,
  ACCOUNT_TYPE VARCHAR(15) NOT NULL,
  BALANCE DOUBLE NOT NULL,
  PRIMARY KEY(CUST_ID, ACCOUNT_ID));
  
  
CREATE TABLE CUST_LOGIN(
CUST_ID INTEGER NOT NULL,
USERNAME VARCHAR(15) PRIMARY KEY,
PASSWORD VARCHAR(15) NOT NULL,
LASTLOGIN TIMESTAMP,
LOCKED_STATUS BOOLEAN NOT NULL);


CREATE TABLE TRANSACTIONS(
  TRANS_ID INTEGER PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 501, INCREMENT BY 1),
  ACCOUNT_ID INTEGER,
  AMOUNT DOUBLE NOT NULL,
  TRANS_TYPE VARCHAR(6),
  TRANS_TIME TIMESTAMP NOT NULL,
  REMARKS VARCHAR(20));
